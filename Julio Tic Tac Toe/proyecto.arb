
class Tablero
    def initialize()
    end
    attr_accessor :a
    attr_accessor :b
    attr_accessor :c
    def creacion_tablero(nombre_uno, nombre_dos, contador)
        a = "123"
        b = "456"
        c = "789"
        puts "A continuacion mostrara el tablero de tic tac toe"
        puts a,b,c
        actualizar_tablero(nombre_uno, nombre_dos, contador,a,b,c)
    end
   
    def actualizar_tablero(nombre_uno, nombre_dos, contador,a,b,c)
        
        if contador  % 2 == 0 
            puts "\nJuega #{nombre_dos} \npor favor oprima un el numero que desea jugar \n"
            f = gets.to_i
            puts "\n"
           contador += 1    
            x = 0
                while x <= 3
            
                  if a[x] == f.to_s 
                    a[x] = "x"
                    
                  elsif b[x] == f.to_s 
                    b[x] = "x"
                  
                  elsif c[x] == f.to_s 
                    c[x] = "x"
                end  
                  x += 1 
                end
             puts "A continuacion mostrara el tablero de tic tac toe\n"  
              puts a,b,c
              pregunta = Juego.new()
              pregunta.ganador_jugador_dos(nombre_uno,nombre_dos, contador,a,b,c)
        else
            puts "\nJuega  #{nombre_uno} \npor favor oprima un el numero que desea jugar\n "
            f = gets.to_i
            puts "\n"
            contador += 1  
            x = 0
            while x <= 3
              if a[x] == f.to_s 
                a[x] = "o"
              end

              if b[x] == f.to_s 
                b[x] = "o"
              end
              if c[x] == f.to_s 
                c[x] = "o"
              end  
              x += 1 
            end
          puts "A continuacion mostrara el tablero de tic tac toe\n"
          puts a,b,c
          pregunta = Juego.new()
          pregunta.ganador_jugador_uno(nombre_uno,nombre_dos, contador,a,b,c)
            
        end
    end
end

class Jugador
    def initialize()
    end
    def creacion_de_jugadores
        puts "Por favor ingrese el nombre del primer jugador:   "
        nombre_uno = gets.to_s
    
        puts "Por favor ingrese el nombre del segundo jugador:   "
        nombre_dos = gets.to_s
        contador = 1

        inicio_tablero = Tablero.new()
        inicio_tablero.creacion_tablero(nombre_uno, nombre_dos, contador)
    end
end


class Juego 
    def initialize()
    end

    def iniciar_juego

        puts "Ingrese el numero correspondiente a lo que desee: "
        puts " 1)inicio de juego \n 2)salir \n 3) marco un numero equivocado"
        casos = gets.to_i
        
        case casos
        when 1
            puts "El juego se ha iniciado "
            casos = Jugador.new()
            casos.creacion_de_jugadores
        when 2
          "The tank is almost empty. Quickly, find a gas station!"
        when 3
          "You should be ok for now."
        end

    end

    def ganador_jugador_uno(nombre_uno,nombre_dos, contador,a,b,c)
        x = 0
        while x <= 3  
            if a[x] == "o" && b[x] == "o" && c[x] == "o" 
                puts "Felciidades ha ganado el #{nombre_uno}"
                iniciar_juego()
            end
            x += 1  
          end
          
        if a[0] == "o" && a[1] == "o" && a[2] == "o"
            puts "Felciidades ha ganado el #{nombre_uno}"
            iniciar_juego()
        end
    
        if b[0] == "o" && b[1] == "o" && b[2] == "o"
            puts "Felciidades ha ganado el #{nombre_uno}"
            iniciar_juego()
        end  
            
        if c[0] == "o" && c[1] == "o" && c[2] == "o"
            puts "Felciidades ha ganado el #{nombre_uno}"
            iniciar_juego()
        end
          
        if a[0] == "o" && b[1] == "o" && c[2] == "o"
            puts "Felciidades ha ganado el #{nombre_uno}"
            iniciar_juego()
        end
          
        if c[0] == "o" && b[1] == "o" && a[2] == "o"
            puts "Felciidades ha ganado el #{nombre_uno}"
            iniciar_juego()
        end
        devuelta = Tablero.new()
        devuelta.actualizar_tablero(nombre_uno, nombre_dos, contador,a,b,c)
    end

    def ganador_jugador_dos(nombre_uno,nombre_dos, contador,a,b,c)
        x = 0
        while x <= 3  
            if a[b] == "x" && b[b] == "x" && c[b] == "x" 
                puts "Felciidades ha ganado el #{nombre_dos}"
            end
            x += 1  
          end
          
        if a[0] == "x" && a[1] == "x" && a[2] == "x"
            puts "Felciidades ha ganado el #{nombre_dos}"
            iniciar_juego()
        end
          
        if b[0] == "x" && b[1] == "x" && b[2] == "x"
            puts "Felciidades ha ganado el #{nombre_dos}"
            iniciar_juego()
        end  
            
        if c[0] == "x" && c[1] == "x" && c[2] == "x"
            puts "Felciidades ha ganado el #{nombre_dos}"
            iniciar_juego()
        end
          
        if a[0] == "x" && b[1] == "x" && c[2] == "x"
            puts "Felciidades ha ganado el #{nombre_dos}"
            iniciar_juego()
        end
          
        if c[0] == "x" && b[1] == "x" && a[2] == "x"
            puts "Felciidades ha ganado el #{nombre_dos}"
            iniciar_juego()
        end
        devuelta = Tablero.new()
        devuelta.actualizar_tablero(nombre_uno, nombre_dos, contador,a,b,c)
    end

end


inicio_juego = Juego.new()
inicio_juego.iniciar_juego